%declarations
import GUI

var numberButtons : array 0 .. 11 of int
var calculationButtons : array 1 .. 4 of int
var outputButtons : array 1 .. 4 of int
var textField : int
var position : int := 0
var stringEquation : string := "0"
var font1 : int
font1 := Font.New ("Arial :10")

forward procedure makeGUI

proc clearAndUpdateTextBox
    cls
    makeGUI
    GUI.AddLine (textField, stringEquation)
end clearAndUpdateTextBox

proc CE
    stringEquation := "0"
end CE

proc C
    stringEquation := "0"
end C

proc backspace
    if length (stringEquation) = 1 then
	stringEquation := "0"
    elsif 
    end if
    clearAndUpdateTextBox
end backspace

body proc makeGUI
    Draw.FillBox (0, 0, 350, 420, black)
    textField := GUI.CreateTextBoxFull (25, 245, 300, 150, 1, font1)
    GUI.AddLine (textField, stringEquation)
    outputButtons (1) := GUI.CreateButton ((25 + ((80 * (1 - 1)))), 185, 65, "CE", CE)
    outputButtons (2) := GUI.CreateButton ((25 + ((80 * (2 - 1)))), 185, 65, "C", C)
    outputButtons (3) := GUI.CreateButton ((25 + ((80 * (3 - 1)))), 185, 65, "<--", backspace)
    calculationButtons (1) := GUI.CreateButton ((25 + ((80 * (4 - 1)))), 185, 65, "÷", division)
    numberButtons (7) := GUI.CreateButton ((25 + ((80 * (1 - 1)))), 150, 65, "7", seven)
    numberButtons (8) := GUI.CreateButton ((25 + ((80 * (2 - 1)))), 150, 65, "8", eight)
    numberButtons (9) := GUI.CreateButton ((25 + ((80 * (3 - 1)))), 150, 65, "9", nine)
    calculationButtons (2) := GUI.CreateButton ((25 + ((80 * (4 - 1)))), 150, 65, "x", multiply)
    numberButtons (4) := GUI.CreateButton ((25 + ((80 * (1 - 1)))), 115, 65, "4", four)
    numberButtons (5) := GUI.CreateButton ((25 + ((80 * (2 - 1)))), 115, 65, "5", five)
    numberButtons (6) := GUI.CreateButton ((25 + ((80 * (3 - 1)))), 115, 65, "6", six)
    calculationButtons (3) := GUI.CreateButton ((25 + ((80 * (4 - 1)))), 115, 65, "-", subtract)
    numberButtons (1) := GUI.CreateButton ((25 + ((80 * (1 - 1)))), 80, 65, "1", one)
    numberButtons (2) := GUI.CreateButton ((25 + ((80 * (2 - 1)))), 80, 65, "2", two)
    numberButtons (3) := GUI.CreateButton ((25 + ((80 * (3 - 1)))), 80, 65, "3", three)
    calculationButtons (4) := GUI.CreateButton ((25 + ((80 * (4 - 1)))), 80, 65, "+", add)
    numberButtons (11) := GUI.CreateButton ((25 + ((80 * (1 - 1)))), 45, 65, "pi", pi)
    numberButtons (0) := GUI.CreateButton ((25 + ((80 * (2 - 1)))), 45, 65, "0", zero)
    numberButtons (10) := GUI.CreateButton ((25 + ((80 * (3 - 1)))), 45, 65, ".", decimal)
    outputButtons (4) := GUI.CreateButton ((25 + ((80 * (4 - 1)))), 45, 65, "=", equal)
end makeGUI

%initializations
setscreen ("graphics:350;420")

%process
makeGUI

loop
    exit when GUI.ProcessEvent
end loop
